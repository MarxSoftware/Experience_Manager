(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(286)},123:function(e,t,a){},125:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),s=a.n(i),c=(a(123),a(10)),o=a(11),l=a(13),d=a(12),g=a(14),u=a(117),p=a.n(u),h=a(40),m=a.n(h),v=a(25),f=a.n(v),b=(a(125),a(57)),E=a.n(b),y=a(73),C=a.n(y),w=a(75),x=a.n(w),k=a(74),O=a.n(k),j=a(9),_=a.n(j),P=a(72),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(o.a)(t,[{key:"onPresetSelected",value:function(e){this.props.presetSelected(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{container:!0,item:!0,spacing:8},r.a.createElement(f.a,{container:!0,item:!0,xs:12},r.a.createElement(f.a,{item:!0,xs:12,className:"center presetHeading"},r.a.createElement(_.a,{variant:"title"},"Device"),r.a.createElement(_.a,{variant:"subtitle2"},"Device specific targeting")),r.a.createElement(f.a,{item:!0,container:!0,xs:12},this.props.config.presets.device.map(function(t){return r.a.createElement(f.a,{item:!0,xs:2,key:t.id},r.a.createElement(C.a,{className:"preset-{element.id} presets"},r.a.createElement(O.a,null,r.a.createElement(_.a,{variant:"h6"},t.name),r.a.createElement(P.a,{icon:t.icon,size:"3x"})),r.a.createElement(x.a,null,r.a.createElement(E.a,{size:"small",onClick:e.onPresetSelected.bind(e,t.id)},"Use"))))}))),r.a.createElement(f.a,{container:!0,item:!0,xs:12},r.a.createElement(f.a,{item:!0,xs:12,className:"center presetHeading"},r.a.createElement(_.a,{variant:"title"},"Visitor"),r.a.createElement(_.a,{variant:"subtitle2"},"Visitor specific targeting")),r.a.createElement(f.a,{item:!0,container:!0,xs:12},this.props.config.presets.visitor.map(function(t){return r.a.createElement(f.a,{item:!0,xs:2,key:t.id},r.a.createElement(C.a,{className:"preset-{element.id} presets"},r.a.createElement(O.a,null,r.a.createElement(_.a,{variant:"h6"},t.name),r.a.createElement(P.a,{icon:t.icon,size:"3x"})),r.a.createElement(x.a,null,r.a.createElement(E.a,{size:"small",onClick:e.onPresetSelected.bind(e,t.id)},"Use"))))}))))}}]),t}(n.Component),N=a(29),T=a(21),W=a.n(T),V=a(24),I=a.n(V),R=a(22),J=a.n(R),D=a(23),Q=a.n(D),M=a(30),z=a.n(M),A=a(27),B=a.n(A),F=a(28),U=a.n(F),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(N.a)({},e,t.target.checked),a.updateParent)}},a.state={mobile:a.props.targeting.devices.includes("mobile"),tablet:a.props.targeting.devices.includes("tablet"),computer:a.props.targeting.devices.includes("computer"),console:a.props.targeting.devices.includes("console"),dmr:a.props.targeting.devices.includes("dmr"),wearable:a.props.targeting.devices.includes("wearable"),expanded:!1},a.devices=[{id:"mobile",name:"Mobile"},{id:"tablet",name:"Tablet"},{id:"computer",name:"Computer"},{id:"console",name:"Game Console"},{id:"dmr",name:"Digital media receiver"},{id:"wearable",name:"Wearable computer"}],a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.selectedPreset;"mobile"===t||"iphone"===t||"android"===t?this.setState({mobile:!0,expanded:!0},this.updateParent):"tablet"===t?this.setState({tablet:!0,expanded:!0},this.updateParent):"computer"===t?this.setState({computer:!0,expanded:!0},this.updateParent):"console"===t?this.setState({console:!0,expanded:!0},this.updateParent):"dmr"===t?this.setState({dmr:!0,expanded:!0},this.updateParent):"wearable"===t&&this.setState({wearable:!0,expanded:!0},this.updateParent)}},{key:"updateParent",value:function(){var e=this,t=[];this.devices.forEach(function(a){e.state[a.id]&&t.push(a.id)}),this.props.targetingChanged("devices",t)}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{className:"configPanel",expanded:this.state.expanded,onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"Device")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"Targeting by used device."))),r.a.createElement(I.a,null,r.a.createElement(z.a,{row:!0},this.devices.map(function(t){return r.a.createElement(B.a,{key:t.id,control:r.a.createElement(U.a,{color:"primary",checked:e.state[t.id],onChange:e.handleChange(t.id)}),label:t.name,labelPlacement:"start"})}))))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){return function(n){a.setState(Object(N.a)({},e,t),function(){a.props.targetingChanged("visit",a.state.visit)})}},a.state={visit:a.props.targeting.visit,expanded:!1},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.selectedPreset,n="first",r=this.state.expanded,i=!1;"firstvisit"===a?(n="first",r=!0,i=!0):"returning"===a&&(n="returning",r=!0,i=!0),i&&this.setState({visit:n,expanded:r},function(){t.props.targetingChanged("visit",t.state.visit)})}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){return r.a.createElement(W.a,{className:"configPanel",expanded:this.state.expanded,onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"Visitor")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"First or returning visitors."))),r.a.createElement(I.a,null,r.a.createElement(z.a,{row:!0},r.a.createElement(B.a,{value:"first",control:r.a.createElement(U.a,{color:"primary",checked:"first"===this.state.visit,onChange:this.handleChange("visit","first")}),label:"FirstVisit",labelPlacement:"start"}),r.a.createElement(B.a,{value:"returning",control:r.a.createElement(U.a,{color:"primary",checked:"returning"===this.state.visit,onChange:this.handleChange("visit","returning")}),label:"Returning",labelPlacement:"start"}),r.a.createElement(B.a,{value:"both",control:r.a.createElement(U.a,{color:"primary",checked:"both"===this.state.visit,onChange:this.handleChange("visit","both")}),label:"Both",labelPlacement:"start"}))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(N.a)({},e,t.target.checked),function(){a.props.eventChanged("ecommerce_order",a.state.shopper)})}},a.state={shopper:a.props.targeting.events.includes("ecommerce_order"),expanded:!1,lastPreset:null},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.selectedPreset,n=!1,r=this.state.expanded,i=!1;"shopper"===a&&(n=!0,r=!0,i=!0),i&&this.setState({shopper:n,expanded:r},function(){t.props.eventChanged("ecommerce_order",t.state.shopper)})}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){return r.a.createElement(W.a,{className:"configPanel",expanded:this.state.expanded,onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"Shoppers")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"Users that did at least one order."))),r.a.createElement(I.a,null,r.a.createElement(z.a,{row:!0},r.a.createElement(B.a,{control:r.a.createElement(U.a,{color:"primary",checked:this.state.shopper,onChange:this.handleChange("shopper")}),label:"Shopper",labelPlacement:"start"}))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(N.a)({},e,t.target.checked),a.updateParent)}},a.state={chrome:a.props.targeting.browsers.includes("chrome"),ie:a.props.targeting.browsers.includes("ie"),firefox:a.props.targeting.browsers.includes("firefox"),edge:a.props.targeting.browsers.includes("edge"),safari:a.props.targeting.browsers.includes("safari"),opera:a.props.targeting.browsers.includes("opera"),expanded:!1},a.browsers=[{id:"chrome",name:"Chrome"},{id:"ie",name:"Internet Explorer"},{id:"firefox",name:"Firefox"},{id:"edge",name:"Microsoft Edge"},{id:"safari",name:"Safari"},{id:"opera",name:"Opera"}],a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.selectedPresets}},{key:"updateParent",value:function(){var e=this,t=[];this.browsers.forEach(function(a){e.state[a.id]&&t.push(a.id)}),this.props.targetingChanged("browsers",t)}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{className:"configPanel",onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"Browser")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"Select users by browser engine."))),r.a.createElement(I.a,null,r.a.createElement(z.a,{row:!0},this.browsers.map(function(t){return r.a.createElement(B.a,{key:t.id,control:r.a.createElement(U.a,{color:"primary",checked:e.state[t.id],onChange:e.handleChange(t.id)}),label:t.name,labelPlacement:"start"})}))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(N.a)({},e,t.target.checked),a.updateParent)}},a.state={windows:a.props.targeting.os.includes("windows"),ios:a.props.targeting.os.includes("ios"),android:a.props.targeting.os.includes("android"),linux:a.props.targeting.os.includes("linux"),mac:a.props.targeting.os.includes("mac"),expanded:!1},a.operation_systems=[{id:"windows",name:"Windows"},{id:"ios",name:"iOS"},{id:"android",name:"Android"},{id:"linux",name:"Linux"},{id:"mac",name:"Mac"}],a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.selectedPreset;"iphone"===t?this.setState({ios:!0,expanded:!0},this.updateParent):"android"===t&&this.setState({android:!0,expanded:!0},this.updateParent)}},{key:"updateParent",value:function(){var e=this,t=[];this.operation_systems.forEach(function(a){e.state[a.id]&&t.push(a.id)}),this.props.targetingChanged("os",t)}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{className:"configPanel",expanded:this.state.expanded,onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"OperatingSystem")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"Targeting by users operating system."))),r.a.createElement(I.a,null,r.a.createElement(z.a,{row:!0},this.operation_systems.map(function(t){return r.a.createElement(B.a,{key:t.id,control:r.a.createElement(U.a,{color:"primary",checked:e.state[t.id],onChange:e.handleChange(t.id)}),label:t.name,labelPlacement:"start"})}))))}}]),t}(n.Component),K=a(41),X=a.n(K),Y=a(58),Z=a(59),ee=a.n(Z),te=(a(102),a(42)),ae=a.n(te),ne=a(61),re=a.n(ne),ie=a(62),se=a.n(ie),ce=a(60),oe=a.n(ce),le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={expanded:!1,categories:a.props.targeting.wp_categories.categories?a.props.targeting.wp_categories.categories:[]},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.targeting;this.setState({categories:t.wp_categories.categories})}},{key:"renderChildren",value:function(e){var a=this;return e&&e.length>0?r.a.createElement("ul",{className:"catlist"},e.map(function(e){return r.a.createElement(t,{category:e,key:e.id,categoryChanged:a.props.categoryChanged,targeting:a.props.targeting})})):""}},{key:"render",value:function(){return r.a.createElement("li",{className:"item"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:this.props.category.id,checked:this.state.categories.includes(this.props.category.id),onChange:this.props.categoryChanged}),"\xa0",this.props.category.name),this.renderChildren(this.props.category.children))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={categories:[],expanded:!1,condition:a.props.targeting.wc_categories.condition},a.getCategories(),a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"getCategoryTree",value:function(){var e=Object(Y.a)(X.a.mark(function e(t,a){var n,r,i,s,c,o,l,d,g,u;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!0,i=!1,s=void 0,e.prev=4,c=a[Symbol.iterator]();case 6:if(r=(o=c.next()).done){e.next=25;break}if((l=o.value).parent!==t){e.next=22;break}return(d={}).id=l.term_id,d.name=l.name,e.next=14,window.fetch(ajaxurl+"?action=tma_categories&parent="+l.term_id);case 14:return g=e.sent,e.next=17,g.json();case 17:return u=e.sent,e.next=20,this.getCategoryTree(l.term_id,u);case 20:d.children=e.sent,n.push(d);case 22:r=!0,e.next=6;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),i=!0,s=e.t0;case 31:e.prev=31,e.prev=32,r||null==c.return||c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.abrupt("return",n);case 40:case"end":return e.stop()}},e,this,[[4,27,31,39],[32,,34,38]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var e=this;window.webToolsWPCategories?this.setState({categories:window.webToolsWPCategories}):"undefined"!=typeof ajaxurl&&window.fetch(ajaxurl+"?action=tma_categories&parent=0").then(function(e){return e.json()}).then(function(t){e.getCategoryTree(0,t).then(function(t){e.setState({categories:t})})})}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{className:"configPanel",onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"WordPress Categories")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"Targeting by viewed categories."))),r.a.createElement(I.a,null,r.a.createElement("div",{className:"tma_cats"},r.a.createElement(ee.a,{heightRelativeToParent:"100%"},r.a.createElement("ul",{className:"catlist"},this.state.categories.map(function(t){return r.a.createElement(le,{key:t.id,category:t,targeting:e.props.targeting,categoryChanged:e.props.categoryChanged})})))),r.a.createElement("div",{className:"tma_cats_condition"},r.a.createElement(oe.a,null,r.a.createElement(re.a,{value:this.props.targeting.wp_categories.condition,onChange:this.props.conditionChanged},r.a.createElement(ae.a,{value:"or"},"OR"),r.a.createElement(ae.a,{value:"and"},"AND")),r.a.createElement(se.a,null,"Condition")))))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={expanded:!1,categories:a.props.targeting.wc_categories.categories?a.props.targeting.wc_categories.categories:[]},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.targeting;this.setState({categories:t.wc_categories.categories})}},{key:"renderChildren",value:function(e){var a=this;return e&&e.length>0?r.a.createElement("ul",{className:"catlist"},e.map(function(e){return r.a.createElement(t,{category:e,key:e.id,categoryChanged:a.props.categoryChanged,targeting:a.props.targeting})})):""}},{key:"render",value:function(){return r.a.createElement("li",{className:"item"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:this.props.category.id,checked:this.state.categories.includes(this.props.category.id),onChange:this.props.categoryChanged}),"\xa0",this.props.category.name),this.renderChildren(this.props.category.children))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={categories:[],expanded:!1,condition:a.props.targeting.wc_categories.condition},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"getCategoryTree",value:function(){var e=Object(Y.a)(X.a.mark(function e(t,a){var n,r,i,s,c,o,l,d,g,u;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!0,i=!1,s=void 0,e.prev=4,c=a[Symbol.iterator]();case 6:if(r=(o=c.next()).done){e.next=25;break}if((l=o.value).parent!==t){e.next=22;break}return(d={}).id=l.term_id,d.name=l.name,e.next=14,window.fetch(ajaxurl+"?action=tma_product_categories&parent="+l.term_id);case 14:return g=e.sent,e.next=17,g.json();case 17:return u=e.sent,e.next=20,this.getCategoryTree(l.term_id,u);case 20:d.children=e.sent,n.push(d);case 22:r=!0,e.next=6;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),i=!0,s=e.t0;case 31:e.prev=31,e.prev=32,r||null==c.return||c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.abrupt("return",n);case 40:case"end":return e.stop()}},e,this,[[4,27,31,39],[32,,34,38]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var e=this;window.webToolsWCCategories?this.setState({categories:window.webToolsWCCategories}):"undefined"!=typeof ajaxurl&&window.fetch(ajaxurl+"?action=tma_product_categories&parent=0").then(function(e){return e.json()}).then(function(t){e.getCategoryTree(0,t).then(function(t){e.setState({categories:t})})})}},{key:"expandedChanged",value:function(e,t){this.setState({expanded:t})}},{key:"conditionChanged",value:function(e){this.setState({condition:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{className:"configPanel",onChange:this.expandedChanged.bind(this)},r.a.createElement(J.a,{expandIcon:r.a.createElement(Q.a,null)},r.a.createElement("div",{className:"key-column"},r.a.createElement(_.a,null,"WooCommerce Categories")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"description"},"Targeting by viewed categories."))),r.a.createElement(I.a,null,r.a.createElement("div",{className:"tma_cats"},r.a.createElement(ee.a,{heightRelativeToParent:"100%"},r.a.createElement("ul",{className:"catlist"},this.state.categories.map(function(t){return r.a.createElement(ge,{key:t.id,category:t,targeting:e.props.targeting,categoryChanged:e.props.categoryChanged})})))),r.a.createElement("div",{className:"tma_cats_condition"},r.a.createElement(oe.a,null,r.a.createElement(re.a,{value:this.props.targeting.wc_categories.condition,onChange:this.props.conditionChanged},r.a.createElement(ae.a,{value:"or"},"OR"),r.a.createElement(ae.a,{value:"and"},"AND")),r.a.createElement(se.a,null,"Condition")))))}}]),t}(n.Component),pe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H,{selectedPreset:this.props.selectedPreset,targetingChanged:this.props.targetingChanged,targeting:this.props.targeting}),r.a.createElement(q,{selectedPreset:this.props.selectedPreset,targetingChanged:this.props.targetingChanged,targeting:this.props.targeting}),r.a.createElement(G,{selectedPreset:this.props.selectedPreset,targetingChanged:this.props.targetingChanged,targeting:this.props.targeting}),r.a.createElement($,{selectedPreset:this.props.selectedPreset,targetingChanged:this.props.targetingChanged,targeting:this.props.targeting}),r.a.createElement(L,{selectedPreset:this.props.selectedPreset,eventChanged:this.props.eventChanged,targeting:this.props.targeting}),r.a.createElement(de,{selectedPreset:this.props.selectedPreset,categoryChanged:this.props.wp_categoryChanged,conditionChanged:this.props.wp_categoryConditionChanged,targeting:this.props.targeting}),r.a.createElement(ue,{selectedPreset:this.props.selectedPreset,categoryChanged:this.props.wc_categoryChanged,conditionChanged:this.props.wc_categoryConditionChanged,targeting:this.props.targeting}))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).defaultTargeing={devices:[],os:[],browsers:[],visit:"both",events:[],wp_categories:{categories:[],condition:"or"},wc_categories:{categories:[],condition:"or"}},a.state={presets:a.props.presets,selectedPreset:"",targeting:a.defaultTargeing,formValue:JSON.stringify(a.defaultTargeing)},window.webToolsTargeing&&(a.state.targeting=window.tma_webtools_updateTargeting(window.webToolsTargeing),a.state.formValue=JSON.stringify(window.tma_webtools_updateTargeting(window.webToolsTargeing))),a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"onPresetSelected",value:function(e){var t=this;this.setState({selectedPreset:e},function(){t.setState({selectedPreset:null})})}},{key:"targetingChanged",value:function(e,t){var a=this,n=Object.assign({},this.state.targeting);n[e]=t,this.setState({targeting:n},function(){a.setState({formValue:JSON.stringify(a.state.targeting)})})}},{key:"eventChanged",value:function(e,t){var a=this,n=Object.assign({},this.state.targeting);if(t)n.events.push(e);else{var r=n.events.indexOf(e);-1!==r&&n.events.splice(r,1)}this.setState({targeting:n},function(){a.setState({formValue:JSON.stringify(a.state.targeting)})})}},{key:"wp_categoryConditionChanged",value:function(e){var t=this,a=e.target.value,n=Object.assign({},this.state.targeting);n.wp_categories.condition=a,this.setState({targeting:n},function(){t.setState({formValue:JSON.stringify(t.state.targeting)})})}},{key:"wp_categoryChanged",value:function(e){var t=this,a=e.target,n=Object.assign({},this.state.targeting);if(a.checked)n.wp_categories.categories.push(parseInt(a.value));else{var r=n.wp_categories.categories.indexOf(parseInt(a.value));-1!==r&&n.wp_categories.categories.splice(r,1)}this.setState({targeting:n},function(){t.setState({formValue:JSON.stringify(t.state.targeting)})})}},{key:"wc_categoryConditionChanged",value:function(e){var t=this;console.log(e.target.value);var a=e.target.value,n=Object.assign({},this.state.targeting);n.wc_categories.condition=a,this.setState({targeting:n},function(){t.setState({formValue:JSON.stringify(t.state.targeting)})})}},{key:"wc_categoryChanged",value:function(e){var t=this,a=e.target,n=Object.assign({},this.state.targeting);if(a.checked)n.wc_categories.categories.push(parseInt(a.value));else{var r=n.wc_categories.categories.indexOf(parseInt(a.value));-1!==r&&n.wc_categories.categories.splice(r,1)}this.setState({targeting:n},function(){t.setState({formValue:JSON.stringify(t.state.targeting)})})}},{key:"handleChange",value:function(){console.log("changed")}},{key:"setTargeting",value:function(e){var t=this,a=Object.assign({},this.state.targeting);a=Object.assign(a,e),console.log(a),this.setState({newTargeting:a},function(){t.setState({formValue:JSON.stringify(t.state.targeting)})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"webtoolsQueryEditor"},r.a.createElement("textarea",{name:"tma-webtools-segment-editor-value",value:this.state.formValue,onChange:this.handleChange,className:"hidden"}),r.a.createElement(f.a,{container:!0,spacing:8},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(m.a,{className:"paper"},r.a.createElement(S,{config:this.props.config,presetSelected:this.onPresetSelected.bind(this)})),r.a.createElement(p.a,null),r.a.createElement(m.a,{className:"paper"},r.a.createElement(pe,{selectedPreset:this.state.selectedPreset,targetingChanged:this.targetingChanged.bind(this),eventChanged:this.eventChanged.bind(this),targeting:this.state.targeting,wp_categoryChanged:this.wp_categoryChanged.bind(this),wp_categoryConditionChanged:this.wp_categoryConditionChanged.bind(this),wc_categoryChanged:this.wc_categoryChanged.bind(this),wc_categoryConditionChanged:this.wc_categoryConditionChanged.bind(this)})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(45),ve=a(32),fe=a(46);me.b.add(ve.b,fe.b,fe.a,ve.a,ve.c,ve.d);var be={presets:{device:[{id:"mobile",name:"Mobile users",icon:ve.a},{id:"android",name:"Android users",icon:fe.a},{id:"iphone",name:"iPhone users",icon:fe.b}],visitor:[{id:"shopper",name:"Shopper",icon:ve.b},{id:"firstvisit",name:"FirstVisit",icon:ve.c},{id:"returning",name:"Returning",icon:ve.d}]}};window.webtoolsQueryEditor=function(){},window.webtoolsQueryEditor.plugins=[],window.webtoolsQueryEditor.registerPlugin=function(e){window.webtoolsQueryEditor.plugins.push(e)},window.webtoolsQueryEditor.registerPlugin({id:"test",render:function(e){return r.a.createElement("div",{className:"holger"},"Test")}}),window.tma_webtools_updateTargeting=function(e){return e.os||(e.os=[]),e.events||(e.events=[]),e.devices||(e.devices=[]),e.browsers||(e.browsers=[]),e.wp_categories||(e.wp_categories={},e.wp_categories.categories=[],e.wp_categories.condition="or"),e.wc_categories||(e.wc_categories={},e.wc_categories.categories=[],e.wc_categories.condition="or"),e},s.a.render(r.a.createElement(he,{config:be}),document.getElementById("webtoolsQueryEditor")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,2,1]]]);
//# sourceMappingURL=main.5891b828.chunk.js.map